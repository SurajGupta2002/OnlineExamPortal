{% extends 'base.html' %}
{% block title %}Exam Result - {{ attempt.exam.title }}{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
        <!-- Header -->
        <div class="bg-indigo-600 px-8 py-10 text-center text-white">
            <div class="inline-flex items-center justify-center w-20 h-20 bg-white/20 rounded-full mb-4">
                <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </div>
            <h1 class="text-3xl font-bold">Exam Submitted!</h1>
            <p class="text-indigo-100 mt-2">{{ attempt.exam.title }}</p>
        </div>

        <!-- Score Section -->
        <div class="p-8">
            <div class="grid grid-cols-2 gap-6 mb-8">
                <div class="bg-gray-50 p-6 rounded-xl text-center border border-gray-100">
                    <p class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-1">Score Obtained</p>
                    <p class="text-4xl font-black text-indigo-600">{{ score }} <span class="text-lg text-gray-400">/ {{
                            total_marks }}</span></p>
                </div>
                <div class="bg-gray-50 p-6 rounded-xl text-center border border-gray-100">
                    <p class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-1">Percentage</p>
                    <p
                        class="text-4xl font-black {% if percentage >= 40 %}text-green-600{% else %}text-red-600{% endif %}">
                        {{ percentage|stringformat:".1f" }}%</p>
                </div>
            </div>

            <div class="space-y-4">
                <div class="flex justify-between items-center py-3 border-b">
                    <span class="text-gray-600">Total Questions</span>
                    <span class="font-bold text-gray-900">{{ total_questions }}</span>
                </div>
                <div class="flex justify-between items-center py-3 border-b">
                    <span class="text-gray-600">Correct Answers</span>
                    <span class="font-bold text-green-600">{{ correct_count }}</span>
                </div>
                <div class="flex justify-between items-center py-3 border-b">
                    <span class="text-gray-600">Status</span>
                    {% if percentage >= 40 %}
                    <span
                        class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-sm font-bold uppercase">Pass</span>
                    {% else %}
                    <span class="px-3 py-1 bg-red-100 text-red-700 rounded-full text-sm font-bold uppercase">Fail</span>
                    {% endif %}
                </div>
            </div>

            <div class="mt-10 flex flex-col sm:flex-row gap-4">
                <a href="{% url 'home' %}"
                    class="flex-1 text-center bg-indigo-600 text-white font-bold py-4 rounded-xl hover:bg-indigo-700 transition shadow-lg shadow-indigo-200">
                    Take Another Exam
                </a>
                <a href="{% url 'results' %}"
                    class="flex-1 text-center bg-gray-100 text-gray-700 font-bold py-4 rounded-xl hover:bg-gray-200 transition">
                    View My History
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}